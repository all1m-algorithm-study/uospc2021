# 전구 끄기 - HARD

## 문제

$1$번부터 $N$번까지 전구가 원형으로 나열되어 있다. 다시 말해 $i$번째 전구는 $i+1$번째 전구와 서로 인접하며$(1 \leq i \leq N-1)$, $N$번째 전구는 $1$번째 전구와 서로 인접하다. 인접한 전구끼리는 서로 이동할 수 있다. 초기 상태에서 어떤 전구는 켜져있으며 어떤 전구는 꺼져있다.

당신은 어떤 전구 위치에서부터 다른 어떤 전구 위치까지 이동하며, 해당 구간에서 켜져 있는 전구는 끄고 꺼져 있는 전구는 키려 한다. 이때 시계 방향 및 반시계 방향으로 모두 이동이 가능하다. 이 경우에는 EASY 문제와 다르게 모든 전구를 끌 수 없을수도 있다. 따라서 이번에는 한 번의 이동 후 켜져있는 전구의 수를 최소화하려 한다. 이때 꺼져 있는 전구의 수가 얼마나 늘어났는지 구하는 프로그램을 작성하시오.

## 입력

첫째 줄에는 전구의 개수 $N$이 주어진다. $(1 \leq N \leq 100,000)$
둘째 줄에는 $N$개 전구의 상태가 주어진다. 둘째 줄의 $i$번째 값 $c_i$는 각 전구의 점등 여부를 나타낸다. $c_i$가 $1$이라면 해당 전구가 켜져있다는 것을 의미하며, $c_i$가 $0$이라면 해당 전구가 꺼져있다는 것을 의미한다.

## 출력

첫째 줄에 한 번 이동을 통해 끌 수 있는 전구의 수의 최대값을 출력하시오.

## 예제 입력 1

```
7
1 1 0 1 0 0 1
```

## 예제 출력 1

```
3
```