# 전구 끄기 - HARD

## 문제

$1$번부터 $N$번까지 전구가 원형으로 나열되어 있다. 즉 아래 그림과 같이, $i(1 \leq i \leq N-1)$번 전구는 $i+1$번 전구와 서로 인접하며, $N$번 전구는 $1$번 전구와 서로 인접하다. 초기 상태에서 어떤 전구는 켜져있으며 어떤 전구는 꺼져있다.

<div style="text-align:center;"><img style="width:50%;" src="./images/bulb-intro.png" /></div>

당신은 임의의 한 전구에서 출발해 다른 전구까지 시계방향 또는 반시계 방향으로 한 칸씩 이동하면서, **시작점부터 끝점까지를 포함하는 구간 내에 켜져있는 전구는 끄고, 꺼져있는 전구는 켜려고 한다.** 당신은 이렇게 한 번 이동하면서 꺼진 전구의 수를 최대화 해야 한다. **가장 효율적으로 이동하였을 때 꺼진 전구의 증가량**를 구하는 프로그램을 작성하시오. (단, 어떻게 이동해도 꺼진 전구의 수를 증가시킬 수 없는 상황이라면 $0$을 출력해야 함에 유의하라.)

예를 들어 아래 그림처럼 이동하면서 전구의 상태를 바꾸면, 이전보다 꺼진 전구의 수가 3개 증가하게 된다. 그리고 꺼진 전구의 수를 3개보다 많이 증가시키는 것은 불가능하다.

<div style="text-align:center;"><img style="width:75%;" src="./images/bulb-hard.png" /></div>

## 입력

첫째 줄에는 전구의 개수 $N$이 주어진다. $(1 \leq N \leq 100,000)$
둘째 줄에는 $N$개 전구의 상태가 주어진다. 둘째 줄의 $i$번째 값 $c_i$는 각 전구의 점등 여부를 나타낸다. $c_i$가 $1$이라면 해당 전구가 켜져있다는 것을 의미하며, $c_i$가 $0$이라면 해당 전구가 꺼져있다는 것을 의미한다.

## 출력

첫째 줄에 가장 효율적으로 이동하였을 때 꺼진 전구의 증가량를 출력하시오. (단, 어떻게 이동해도 꺼진 전구의 수를 증가시킬 수 없는 상황이라면 $0$을 출력한다.)

## 예제 입력 1

```
7
1 1 0 1 0 0 1
```

## 예제 출력 1

```
3
```

지문에서 설명한 상황이다.

## 예제 입력 2

```
3
0 0 0
```

## 예제 출력 2

```
0
```

어떻게 이동해도 꺼진 전구의 수를 증가시킬 수 없는 상황이므로, $0$을 출력한다.